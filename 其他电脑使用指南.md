# Hexo 博客其他电脑使用指南

## 📋 概述

本文档详细说明如何在其他电脑上克隆、配置和发布 Hexo 博客项目。

## 🎯 前提条件

### 必需软件
- **Node.js** (版本 >= 16.0.0)
- **Git** (用于版本控制)
- **代码编辑器** (推荐 VS Code)

### 检查环境
```bash
# 检查 Node.js 版本
node --version

# 检查 npm 版本
npm --version

# 检查 Git 版本
git --version
```

## 🚀 完整操作步骤

### 步骤 1: 克隆项目

```bash
# 克隆源码仓库
git clone https://github.com/suoChina/hexo-blog-new.git

# 进入项目目录
cd hexo-blog-new
```

### 步骤 2: 安装依赖

```bash
# 安装项目依赖
npm install

# 或者使用 yarn (如果已安装)
yarn install
```

### 步骤 3: 配置 Git 用户信息

```bash
# 设置 Git 用户名和邮箱
git config --global user.name "你的用户名"
git config --global user.email "你的邮箱@example.com"
```

### 步骤 4: 配置 GitHub 认证

#### 方法 A: 使用 Personal Access Token (推荐)

1. **生成 Token**
   - 访问: https://github.com/settings/tokens
   - 点击 "Generate new token" → "Generate new token (classic)"
   - 选择权限: `repo`, `workflow`
   - 复制生成的 token

2. **配置 Git 凭据**
   ```bash
   # 设置凭据存储
   git config --global credential.helper store
   
   # 第一次推送时会要求输入用户名和密码
   # 用户名: 你的 GitHub 用户名
   # 密码: 刚才生成的 Personal Access Token
   ```

#### 方法 B: 使用 SSH 密钥

1. **生成 SSH 密钥**
   ```bash
   ssh-keygen -t rsa -b 4096 -C "你的邮箱@example.com"
   ```

2. **添加 SSH 密钥到 GitHub**
   ```bash
   # 复制公钥内容
   cat ~/.ssh/id_rsa.pub
   ```
   - 访问: https://github.com/settings/keys
   - 点击 "New SSH key"
   - 粘贴公钥内容

3. **测试 SSH 连接**
   ```bash
   ssh -T git@github.com
   ```

### 步骤 5: 本地预览

```bash
# 启动本地服务器
npx hexo server

# 或者
npm run server
```

访问: http://localhost:4000

### 步骤 6: 创建新文章

```bash
# 创建新文章
npx hexo new "文章标题"

# 文章将创建在: source/_posts/文章标题.md
```

### 步骤 7: 编辑文章

使用任意 Markdown 编辑器编辑文章，推荐使用:
- **VS Code** (安装 Markdown 插件)
- **Typora**
- **Mark Text**

### 步骤 8: 生成静态文件

```bash
# 生成静态文件到 public 目录
npx hexo generate

# 或者
npm run build
```

### 步骤 9: 部署到 GitHub Pages

```bash
# 部署到 GitHub Pages
npx hexo deploy

# 或者
npm run deploy
```

### 步骤 10: 验证部署

访问你的网站: https://suochina.github.io

## 📝 常用命令

### 开发命令
```bash
# 清理缓存
npx hexo clean

# 生成静态文件
npx hexo generate

# 启动本地服务器
npx hexo server

# 部署到 GitHub
npx hexo deploy
```

### 组合命令
```bash
# 清理 + 生成 + 部署
npx hexo clean && npx hexo generate && npx hexo deploy

# 清理 + 生成 + 启动服务器
npx hexo clean && npx hexo generate && npx hexo server
```

## 🔧 项目结构说明

```
hexo-blog-new/
├── source/                 # 源码目录
│   ├── _posts/            # 文章目录
│   ├── images/            # 图片资源
│   ├── 关于我/            # 页面目录
│   ├── 友链/              # 页面目录
│   └── 留言板/            # 页面目录
├── themes/                # 主题目录
│   └── butterfly/         # Butterfly 主题
├── public/                # 生成的静态文件 (自动生成)
├── _config.yml            # Hexo 主配置文件
├── _config.butterfly.yml  # Butterfly 主题配置文件
└── package.json           # 项目依赖配置
```

## ⚠️ 注意事项

### 1. 文件编码
- 确保所有文件使用 UTF-8 编码
- 避免在文件名中使用特殊字符

### 2. 图片处理
- 图片放在 `source/images/` 目录
- 使用相对路径: `/images/图片名.jpg`
- 避免使用中文文件名

### 3. 文章 Front-matter
```yaml
---
title: 文章标题
date: 2025-01-02 12:00:00
updated: 2025-01-02 12:00:00
tags: [标签1, 标签2]
categories: [分类1, 分类2]
description: 文章描述
keywords: 关键词1, 关键词2
permalink: 自定义链接/
cover: /images/封面图片.jpg
---
```

### 4. 权限问题
- 确保有 `suoChina.github.io` 仓库的推送权限
- 如果遇到权限问题，检查 GitHub 认证配置

## 🐛 常见问题解决

### 问题 1: 依赖安装失败
```bash
# 清理 npm 缓存
npm cache clean --force

# 删除 node_modules 重新安装
rm -rf node_modules
npm install
```

### 问题 2: 部署失败
```bash
# 检查部署配置
cat _config.yml | grep -A 5 "deploy:"

# 检查 Git 远程仓库
git remote -v

# 重新配置远程仓库
git remote set-url origin https://github.com/suoChina/hexo-blog-new.git
```

### 问题 3: 本地预览失败
```bash
# 检查端口占用
netstat -ano | findstr :4000

# 使用其他端口
npx hexo server -p 4001
```

### 问题 4: 图片不显示
- 检查图片路径是否正确
- 确保图片在 `source/images/` 目录
- 使用绝对路径: `/images/图片名.jpg`

## 📚 相关链接

- [Hexo 官方文档](https://hexo.io/docs/)
- [Butterfly 主题文档](https://butterfly.js.org/)
- [Markdown 语法指南](https://www.markdownguide.org/)
- [GitHub Pages 文档](https://docs.github.com/en/pages)

## 🎉 完成！

按照以上步骤，你就可以在任何电脑上使用这个 Hexo 博客项目了！

如果遇到问题，请检查:
1. 环境配置是否正确
2. 依赖是否安装完整
3. Git 认证是否配置正确
4. 网络连接是否正常

---

**最后更新**: 2025-01-02  
**版本**: v1.0  
**作者**: suoChina
